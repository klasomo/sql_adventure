<!DOCTYPE html>
<html data-theme="dark">

<head>
    <meta charset="utf8" />
    <meta meta name="viewport" content="width=device-width, user-scalable=no" />
    <title>SQL Adventure</title>

    <!--localSylesheet-->
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/codeMirror.css" />
    <link rel="stylesheet" href="css/testing.css" />
    <link rel="stylesheet" href="css/bomb.css"/>

    <!--CodeMirror-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.js"></script>

    <!-- Tailwind -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.2/tailwind.min.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- GSAP GreenSock Animation Platfrom -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>

    <!-- Daisy UI-->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.11.1/dist/full.min.css" rel="stylesheet" type="text/css" />

    <!-- Einbinden von jQuery über ein CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<!-- DaisyUI Modal -->
<input type="checkbox" id="step_modal_checkbox" class="modal-toggle" />
<dialog id="step_modal" class="modal">
    <div class="modal-box w-8/12 max-w-5xl">
        <h3 class="font-bold text-lg">Hello!</h3>
        <p class="py-4">Press ESC key or click outside to close</p>
    </div>
    <label class="modal-backdrop" for="step_modal_checkbox">Close</label>
</dialog>

<input type="checkbox" id="my_modal_7" class="modal-toggle" />
<div class="modal" role="dialog">
  <div class="modal-box">
    <h3 class="text-lg font-bold">Hello!</h3>
    <p class="py-4">This modal works with a hidden checkbox!</p>
  </div>
  <label class="modal-backdrop" for="my_modal_7">Close</label>
</div>


<!-- Input Raumnummer und Dropdown Abteilung -->
<!-- Template für Schritt 1 -->
<div id="step1-template" style="display: none;">
    <h3 class="font-bold text-lg">Schritt 1</h3>
    <input id="step1_input" type="text" placeholder="Raum Nr." class="input input-bordered w-full max-w-xs">
    <select class="select select-bordered w-full max-w-xs">
        <option disabled selected>Welche Abteilung</option>
        <option>Buchhaltung</option>
        <option>Geschäftsleitung</option>
        <option>IT</option>
        <option>Management</option>
        <option>Marketing</option>
        <option>Personal</option>
        <option>Reinigungskraft</option>
        <option>Sekretärin</option>
      </select>
    <button class="btn btn-primary mt-4">Überprüfen</button>
</div>

<!-- Template für Schritt 2 -->
<div id="step2-template" style="display: none;">
    <h3 class="font-bold text-lg">Am Computer Einloggen</h3>
</div>

<!-- Template für Schritt 3 -->
<div id="step3-template" style="display: none;">
    <div>
        <div class="label">
            <span class="label-text">Wer hat die Bombe gelegt?</span>
          </div>
        <input type="text" placeholder="Täter" id="step3_input" class="input input-bordered w-full max-w-xs">
        <button class="btn btn-primary mt-4">Überprüfen</button>
    </div>
</div> 

<!-- Template für Schritt 4 -->
<div id="step4-template" style="display: none;">
    <h3 class="font-bold text-lg">Zugangsberechtigung erhöhen</h3>
</div>

<!-- Template für Schritt 5 -->
<div id="step5-template" style="display: none;">
    <div class="flex justify-center">
        <p class="text-2xl text-primary">33%</p>
    </div>
         <progress class="progress progress-primary w-full mb-5" value="33" max="100"></progress>
        <textarea class="textarea textarea-primary w-full h-[40vh] codedText text-2xl font-bold mx-auto px-0"
            id="encryptedText" placeholder="Encrypted Text"></textarea>

    <button class="btn btn-primary w-full mt-5" id="decryptBtn">
        Decrypt
    </button>
</div>

<!-- Template für Schritt 6 -->
<div id="step6-template" style="display: none;">
    <div class="container">
        <img src="/assets/images/map_grit.png" alt="Bild" class="image">
        <div class="grid">
            <!-- Grid-Felder werden hier dynamisch durch JavaScript hinzugefügt -->
        </div>
    </div>
    <button class="btn btn-primary w-full mt-5" id="checkCityMap">Überprüfen</button>
</div>


<!-- Template für Schritt 7 -->
<div id="step7-template" style="display: none;">
    <article class="flex flex-col items-center">
        <img id="img" src="/assets/images/bomb_uncut.png" />
        <div class="viewColor">current color</div>
        <canvas id="canvas_bomb"></canvas>
        <div class="palette">
        </div>
    </article>
</div>


<div class="modal" role="dialog">
    <div class="modal-box flex justify-center items-center flex-col w-1/2">
        <div class="modal-box flex justify-center items-center relative">
            <div class="alert alert-warning absolute bottom-0 w-1/2 invisible">
                <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>Warning: Invalid email address!</span>
            </div>
            <textarea class="textarea textarea-primary w-full h-[400px] codedText text-2xl font-bold mx-auto px-0"
                id="encryptedText" placeholder="Encrypted Text"></textarea>
        </div>

        <button class="btn btn-primary w-full mt-5" id="decryptBtn">
            Decrypt
        </button>
    </div>
    <label class="modal-backdrop" for="decrypt">Close</label>
</div>

<body>
        <div class="flex flex-col justify-between" style="height: 100vh">
            <!-- Progressbar -->
            <ul class="steps bg-neutral py-5 min-h-[100px]">
                <li id="step1" class="step text-xl font-typewriter">Case Overview</li>
                <li id="step2" class="step text-xl font-typewriter">Victim & Time</li>
                <li id="step3" class="step text-xl font-typewriter">Get Access</li>
                <li id="step4" class="step text-xl font-typewriter">Logs & Footage</li>
                <li id="step5" class="step text-xl font-typewriter">Suspects & Alibis</li>
                <li id="step6" class="step text-xl font-typewriter">Prevent Next Crime</li>
                <li id="step7" class="step text-xl font-typewriter">Catch Perpetrator</li>
            </ul>
            <!-- Output and Input Field -->
            <div class="flex justify-center">
                <div class="flex flex-col w-1/2">
                    <div class="" id="sqlDiv">
                    <!-- Output field -->
                    <div class="flex items-center justify-center">
                        <div class="bg-neutral rounded-box w-full h-[40vh]">
                            <div class="p-5 hidden" id="errorAlert">
                                <div role="alert" class="alert alert-warning">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                                    <span id="errorMessage">Warning: Invalid email address!</span>
                                  </div>
                            </div>
                            <div id="output" class="overflow-x-auto h-[40vh]">
                                <!-- Table content -->   
                            </div>
                        </div>
                    </div>
                    <div class="dividerRec my-5 bg-neutral"></div>
                    <!-- SQL input and run button -->
                    <div class="flex items-center justify-center mb-5">
                        <div class="p-2 bg-neutral rounded-box w-full inline-flex justify-between">
                            <button id="commandHistory" class="btn btn-square p-1">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 24 24">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path fill-opacity=".9"
                                            d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z">
                                        </path>
                                    </g>
                                </svg>
                            </button>
                            <textarea class="flex-auto w-80 textarea" id="commands"></textarea>
                            <button id="execute" class="btn h-px h-30 ml-10">Run</button>
                        </div>
                    </div>
                    </div>
                    <div class="m-10 flex justify-center hidden" id="pcLogin">
                        <div class="w-1/2">
                            <label class="input input-bordered flex items-center my-5">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70 mr-2">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" />
                                </svg>
                                <input type="text" class="grow w-full" id="inputUsername" placeholder="Nutzername" />
                            </label>
                            <label class="input input-bordered flex items-center my-5">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 opacity-70 mr-2"><path fill-rule="evenodd" d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z" clip-rule="evenodd" /></svg>
                                <input type="password" class="grow" id="inputPassword" placeholder="Passwort" />
                            </label>
                            <button class="btn btn-primary w-full" id="btnLogin">Login</button>
                        </div>
                    </div>
                </div>

            </div>
            <!-- Bottom Navbar -->
            <div class="bottom-0 w-full flex justify-between pb-5 px-5">
                <button class="btn btn-square h-full w-[64px] invisible p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                  </button>
                <div class="w-1/4 min-w-[400px] navbar bg-neutral rounded-box justify-between">
                  <!-- Police Icon -->
                  <button class="btn btn-ghost btn-circle btn-outline p-2 " id="btnPolice">
                    <svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 508.053 508.053" xml:space="preserve">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <g>
                                <g>
                                    <path
                                        d="M475.897,76.703l-62.1-64.6c-4.5-4.6-11.5-5.7-17.1-2.5c-54.4,30.8-123.5-1.5-135.1-7.4c-3.7-2.4-8.5-2.9-12.7-1.2 c-0.9,0.3-1.7,0.8-2.5,1.3c-12,6.1-80.8,38-135,7.4c-5.6-3.2-12.6-2.1-17.1,2.5l-62.2,64.5c-3.3,3.5-4.7,8.4-3.6,13.1 c0.3,1.2,28.4,120.5,10.3,181.6c-0.1,0.3-0.2,0.6-0.2,0.9c-1.5,6.2-31.6,153.7,210.8,235c3.1,1,6.2,1,9.1,0 c242.5-81.3,212.4-228.8,211-235c-0.1-0.3-0.2-0.6-0.2-0.9c-18.1-61.1,10-180.4,10.3-181.6 C480.597,85.103,479.297,80.103,475.897,76.703z M441.997,278.803c1.3,7.2,20.5,128.6-188,200.2 c-208.8-71.8-189.7-191.5-188-200.2c17.3-59.6-2.2-159.6-8.3-188l49.6-51.6c58.7,26.5,125,0.7,146.7-9.3 c21.7,10,88,35.8,146.7,9.3l49.6,51.6C444.097,119.203,424.697,219.203,441.997,278.803z">
                                    </path>
                                </g>
                            </g>
                            <g>
                                <g>
                                    <path
                                        d="M390.197,187.003l-93.6-0.3l-29.2-88.9c-4.3-12.9-22.6-12.9-26.8,0l-29.2,88.9l-93.6,0.3c-13.6,0-19.3,17.5-8.3,25.5 l75.6,55.3l-28.7,89.1c-4.2,13,10.6,23.7,21.7,15.8l75.9-54.8l75.9,54.8c11,8,25.9-2.8,21.7-15.8l-28.7-89.1l75.6-55.3 C409.497,204.503,403.797,187.103,390.197,187.003z M297.997,251.003c-4.9,3.6-7,9.9-5.1,15.7l18.6,57.9l-49.2-35.6 c-4.9-3.6-11.6-3.6-16.5,0l-49.3,35.6l18.6-57.9c1.9-5.8-0.2-12.1-5.1-15.7l-49.1-35.9l60.8-0.2c6.1,0,11.5-3.9,13.4-9.7l19-57.8 l19,57.8c1.9,5.8,7.3,9.7,13.4,9.7l60.8,0.2L297.997,251.003z">
                                    </path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </button>
                <!-- Server Icon -->

                <button class="btn btn-ghost btn-circle btn-outline p-1" id="btnServer">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path
                                d="M18 7H18.01M15 7H15.01M18 17H18.01M15 17H15.01M6 10H18C18.9319 10 19.3978 10 19.7654 9.84776C20.2554 9.64477 20.6448 9.25542 20.8478 8.76537C21 8.39782 21 7.93188 21 7C21 6.06812 21 5.60218 20.8478 5.23463C20.6448 4.74458 20.2554 4.35523 19.7654 4.15224C19.3978 4 18.9319 4 18 4H6C5.06812 4 4.60218 4 4.23463 4.15224C3.74458 4.35523 3.35523 4.74458 3.15224 5.23463C3 5.60218 3 6.06812 3 7C3 7.93188 3 8.39782 3.15224 8.76537C3.35523 9.25542 3.74458 9.64477 4.23463 9.84776C4.60218 10 5.06812 10 6 10ZM6 20H18C18.9319 20 19.3978 20 19.7654 19.8478C20.2554 19.6448 20.6448 19.2554 20.8478 18.7654C21 18.3978 21 17.9319 21 17C21 16.0681 21 15.6022 20.8478 15.2346C20.6448 14.7446 20.2554 14.3552 19.7654 14.1522C19.3978 14 18.9319 14 18 14H6C5.06812 14 4.60218 14 4.23463 14.1522C3.74458 14.3552 3.35523 14.7446 3.15224 15.2346C3 15.6022 3 16.0681 3 17C3 17.9319 3 18.3978 3.15224 18.7654C3.35523 19.2554 3.74458 19.6448 4.23463 19.8478C4.60218 20 5.06812 20 6 20Z"
                                stroke="#ffffff" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path>
                        </g>
                    </svg>
                
                </button>
                    <div class="w-1/4 bg-primary flex justify-center h-full rounded-lg">
                        <div class="font-sevenSegmentClock text-3xl timer text-black">00:00</div>
                    </div>

                    <!-- Map Icon -->
                    <button class="btn btn-circle btn-ghost btn-outline p-2" id="btnMap">
                        <svg class="icon-btn" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M12 6H12.01M9 20L3 17V4L5 5M9 20L15 17M9 20V14M15 17L21 20V7L19 6M15 17V14M15 6.2C15 7.96731 13.5 9.4 12 11C10.5 9.4 9 7.96731 9 6.2C9 4.43269 10.3431 3 12 3C13.6569 3 15 4.43269 15 6.2Z"
                                    stroke="#ffffff" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round"></path>
                            </g>
                        </svg>
                    </button>
                    <!-- bomb icon -->
                    <button class="btn btn-ghost btn-circle btn-outline p-2" id="btnBomb">
                        <svg fill="#ffffff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"
                            stroke-width="0.00024000000000000003">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M21 3.001c-1.4 0-2.584 1.167-2.707 1.293L17.207 5.38l-1.091-1.088a.999.999 0 0 0-1.413.001L13.46 5.537A8.353 8.353 0 0 0 10.5 5C5.813 5 2 8.813 2 13.5S5.813 22 10.5 22s8.5-3.813 8.5-8.5c0-.909-.144-1.8-.428-2.658l1.345-1.345a1.002 1.002 0 0 0-.001-1.415l-1.293-1.29 1.088-1.088c.229-.229.845-.703 1.289-.703h1v-2h-1zm-4.511 7.978c.339.804.511 1.652.511 2.521 0 3.584-2.916 6.5-6.5 6.5S4 17.084 4 13.5 6.916 7 10.5 7c.96 0 1.89.21 2.762.624.381.181.837.103 1.136-.196l1.014-1.014 2.384 2.377-1.092 1.092a.998.998 0 0 0-.215 1.096z">
                                </path>
                                <path
                                    d="M6 13.5a4.47 4.47 0 0 0 1.318 3.182l1.414-1.414C8.26 14.795 8 14.168 8 13.5s.26-1.295.732-1.768A2.484 2.484 0 0 1 10.5 11V9a4.469 4.469 0 0 0-3.182 1.318A4.47 4.47 0 0 0 6 13.5z">
                                </path>
                            </g>
                        </svg>
                    </button>
                </div>
                <button class="btn btn-square h-full w-[64px] p-2 btn-neutral" id="resetBtn">
                    <svg viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g fill="none" fill-rule="evenodd" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" transform="matrix(0 1 1 0 2.5 2.5)"> <path d="m3.98652376 1.07807068c-2.38377179 1.38514556-3.98652376 3.96636605-3.98652376 6.92192932 0 4.418278 3.581722 8 8 8s8-3.581722 8-8-3.581722-8-8-8"></path> <circle cx="8" cy="8" fill="#ffffff" r="2"></circle> <path d="m4 1v4h-4" transform="matrix(1 0 0 -1 0 6)"></path> </g> </g></svg>
                  </button>
            </div>
        </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/sql/sql.min.js"></script>

    <script type="text/javascript" src="js/bomb.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script type="text/javascript" src="js/cipher.js"></script>
    <script type="text/javascript" src="js/stepManager.js"></script>
    <script type="text/javascript" src="js/timer.js"></script>

</body>

</html>
